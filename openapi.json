{"openapi":"3.1.0","info":{"title":"Cricket Bowling Analysis API","description":"AI-powered cricket bowling action analysis based on 7 biomechanical parameters","version":"2.0.0"},"paths":{"/":{"get":{"summary":"Root","description":"Health check endpoint","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/health":{"get":{"summary":"Health Check","description":"Detailed health check with model status","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/analysis/{analysis_id}/progress":{"get":{"summary":"Get Analysis Progress","description":"Get real-time progress of an ongoing analysis","operationId":"get_analysis_progress_api_analysis__analysis_id__progress_get","parameters":[{"name":"analysis_id","in":"path","required":true,"schema":{"type":"string","title":"Analysis Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/metrics":{"get":{"summary":"Get Metrics","description":"Prometheus metrics endpoint","operationId":"get_metrics_metrics_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v2/detect_angle":{"post":{"summary":"Detect Camera Angle","description":"Detect the camera angle from a bowling video using AI.\n\nThis endpoint analyzes a few frames from the video to determine the camera angle\n(front, side, or diagonal) for optimal biomechanical analysis.\n\n- **video**: Video file (MP4, AVI, MOV) to analyze\n\nReturns:\n- detected_angle: \"front\", \"side\", \"diagonal\", or \"unknown\"\n- confidence: Confidence score (0-1)\n- message: Human-readable description","operationId":"detect_camera_angle_api_v2_detect_angle_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"client_ip","in":"query","required":false,"schema":{"type":"string","default":"127.0.0.1","title":"Client Ip"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_detect_camera_angle_api_v2_detect_angle_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/analyze":{"post":{"summary":"Analyze Bowling Video","description":"Start bowling video analysis in background and return analysis_id immediately.\nUse /api/analysis/{analysis_id}/progress to track progress.\n\n- **video**: Video file (MP4, AVI, MOV) - max 50MB, 5-30 seconds\n- **bowler_name**: Name of the bowler\n- **bowler_type**: Type of bowler (fast/medium/spin) - LEGACY\n- **bowling_style**: Style of bowler ('pace' or 'spin') - biomechanically accurate\n- **user_id**: Optional user identifier for tracking\n\nNote: Bowling arm is now auto-detected from video analysis, not user-provided","operationId":"analyze_bowling_video_api_v2_analyze_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"client_ip","in":"query","required":false,"schema":{"type":"string","default":"127.0.0.1","title":"Client Ip"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_analyze_bowling_video_api_v2_analyze_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/analyze_multiple":{"post":{"summary":"Analyze Multiple Videos Endpoint","description":"Analyze multiple videos from different camera angles simultaneously.\n\nThis endpoint uses the MultiVideoAnalyzer to process videos in parallel,\nautomatically detect camera angles, and select the best angle for each\nbiomechanical parameter.\n\n- **videos**: Multiple video files (2-3 recommended) from different angles\n- **bowler_name**: Name of the bowler\n- **bowler_type**: Type of bowler (fast/medium/spin)\n- **user_id**: Optional user identifier for tracking\n- **session_id**: Optional session identifier (auto-generated if not provided)\n\nReturns:\n    Analysis ID for tracking progress and retrieving consolidated results","operationId":"analyze_multiple_videos_endpoint_api_v2_analyze_multiple_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"client_ip","in":"query","required":false,"schema":{"type":"string","default":"127.0.0.1","title":"Client Ip"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_analyze_multiple_videos_endpoint_api_v2_analyze_multiple_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/multi-analysis/{analysis_id}":{"get":{"summary":"Get Multi Video Analysis Result","description":"Retrieve consolidated multi-video analysis results by analysis ID.\n\nReturns the full MultiVideoAnalysisResult including:\n- Consolidated analysis from best angles\n- Video gallery (snapshots and clips)\n- Angle coverage analysis\n- Performance metrics\n\nFor in-progress analyses, returns progress information.\n\nArgs:\n    analysis_id: Unique identifier for the multi-video analysis\n    user_id: Optional user identifier for access control\n\nReturns:\n    Complete multi-video analysis result with consolidated insights","operationId":"get_multi_video_analysis_result_api_v2_multi_analysis__analysis_id__get","parameters":[{"name":"analysis_id","in":"path","required":true,"schema":{"type":"string","title":"Analysis Id"}},{"name":"user_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"summary":"Delete Multi Video Analysis","description":"Delete a multi-video analysis by ID with user authorization.\n\nThis endpoint performs soft deletion by setting status to 'deleted',\nand optionally cleans up associated files (videos, poses, clips, gallery).\n\nUser authorization is enforced - users can only delete their own analyses.\n\nArgs:\n    analysis_id: Unique identifier for the multi-video analysis\n    user_id: User identifier for authorization check\n\nReturns:\n    Confirmation message with deletion timestamp\n\nRaises:\n    404: Analysis not found\n    403: User not authorized to delete this analysis\n    500: Database or file system errors","operationId":"delete_multi_video_analysis_api_v2_multi_analysis__analysis_id__delete","parameters":[{"name":"analysis_id","in":"path","required":true,"schema":{"type":"string","title":"Analysis Id"}},{"name":"user_id","in":"query","required":true,"schema":{"type":"string","description":"User ID for authorization","title":"User Id"},"description":"User ID for authorization"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"summary":"Update Multi Video Analysis","description":"Update metadata for a multi-video analysis.\n\nAllows users to update:\n- title: Custom title for the analysis\n- notes: Personal notes about the analysis\n- tags: List of tags for categorization\n- is_favorite: Mark as favorite\n\nUser authorization is enforced - users can only update their own analyses.\nOnly provided fields will be updated (partial updates supported).\n\nArgs:\n    analysis_id: Unique identifier for the multi-video analysis\n    user_id: User identifier for authorization check\n    title: Optional custom title\n    notes: Optional notes\n    tags: Optional list of tags\n    is_favorite: Optional favorite flag\n\nReturns:\n    Updated analysis metadata\n\nRaises:\n    404: Analysis not found\n    403: User not authorized to update this analysis\n    400: Invalid update data\n    500: Database errors","operationId":"update_multi_video_analysis_api_v2_multi_analysis__analysis_id__patch","parameters":[{"name":"analysis_id","in":"path","required":true,"schema":{"type":"string","title":"Analysis Id"}},{"name":"user_id","in":"query","required":true,"schema":{"type":"string","description":"User ID for authorization","title":"User Id"},"description":"User ID for authorization"},{"name":"title","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"}},{"name":"notes","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"}},{"name":"is_favorite","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Favorite"}}],"requestBody":{"content":{"application/json":{"schema":{"anyOf":[{"type":"array","items":{"type":"string"}},{"type":"null"}],"title":"Tags"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/user/{user_id}/multi-analyses":{"get":{"summary":"List User Multi Video Analyses","description":"List all multi-video analyses for a specific user with pagination and filtering.\n\nSupports:\n- Pagination (limit/offset)\n- Status filtering (completed/processing/failed)\n- Sorting (created_at/overall_score)\n- Order (asc/desc)\n\nArgs:\n    user_id: User identifier to filter analyses\n    limit: Maximum number of results (default 20, max 100)\n    offset: Number of results to skip (default 0)\n    status: Optional status filter (completed/processing/failed)\n    sort_by: Field to sort by (created_at/overall_score)\n    order: Sort order (asc/desc)\n\nReturns:\n    Paginated list of user's multi-video analyses with metadata","operationId":"list_user_multi_video_analyses_api_v2_user__user_id__multi_analyses_get","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","title":"User Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":20,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Offset"}},{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"}},{"name":"sort_by","in":"query","required":false,"schema":{"type":"string","default":"created_at","title":"Sort By"}},{"name":"order","in":"query","required":false,"schema":{"type":"string","default":"desc","title":"Order"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/multi-analysis/{analysis_id}/progress":{"get":{"summary":"Get Multi Video Analysis Progress","description":"Get detailed real-time progress of a multi-video analysis.\n\nReturns detailed progress including:\n- Current stage and overall progress percentage\n- Stage-by-stage breakdown (6 stages: validation, pose detection, angle detection,\n  analysis, consolidation, gallery generation)\n- Estimated time remaining\n- Last updated timestamp\n- Error states if analysis fails\n\nArgs:\n    analysis_id: The analysis ID to check progress for\n\nReturns:\n    Detailed progress information with stage breakdown\n\nStatus Codes:\n    200: Progress found (processing or in-memory)\n    404: Analysis not found\n    410: Analysis complete (check results endpoint instead)","operationId":"get_multi_video_analysis_progress_api_v2_multi_analysis__analysis_id__progress_get","parameters":[{"name":"analysis_id","in":"path","required":true,"schema":{"type":"string","title":"Analysis Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/analysis/{analysis_id}/cancel":{"post":{"summary":"Cancel Single Video Analysis","description":"Cancel an ongoing single-video analysis and cleanup resources.\n\nThis marks the analysis for cancellation (background task checks flag)\nand immediately updates database status to 'cancelled'.\n\nArgs:\n    analysis_id: The analysis ID to cancel\n    user_id: Optional user ID for authorization (guest users can cancel their own analyses)\n\nReturns:\n    Confirmation message with cancellation status\n\nStatus Codes:\n    200: Analysis cancelled successfully\n    404: Analysis not found\n    403: User not authorized to cancel this analysis\n    410: Analysis already completed (cannot cancel)","operationId":"cancel_single_video_analysis_api_analysis__analysis_id__cancel_post","parameters":[{"name":"analysis_id","in":"path","required":true,"schema":{"type":"string","title":"Analysis Id"}},{"name":"user_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"User ID for authorization","title":"User Id"},"description":"User ID for authorization"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/multi-analysis/{analysis_id}/cancel":{"post":{"summary":"Cancel Multi Video Analysis","description":"Cancel an ongoing multi-video analysis and cleanup resources.\n\nThis marks the analysis for cancellation (background task checks flag)\nand immediately updates database status to 'cancelled'.\n\nArgs:\n    analysis_id: The analysis ID to cancel\n    user_id: Optional user ID for authorization (guest users can cancel their own analyses)\n\nReturns:\n    Confirmation message with cancellation status\n\nStatus Codes:\n    200: Analysis cancelled successfully\n    404: Analysis not found\n    403: User not authorized to cancel this analysis\n    410: Analysis already completed (cannot cancel)","operationId":"cancel_multi_video_analysis_api_v2_multi_analysis__analysis_id__cancel_post","parameters":[{"name":"analysis_id","in":"path","required":true,"schema":{"type":"string","title":"Analysis Id"}},{"name":"user_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"User ID for authorization","title":"User Id"},"description":"User ID for authorization"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/google":{"post":{"summary":"Auth Google","description":"Simple stub endpoint to accept Google ID token and return a mocked user session.\n\nThis is only for local development/testing. In production you must validate the\nID token with Google's tokeninfo endpoint or use the Google libraries.","operationId":"auth_google_auth_google_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/auth/{provider}":{"post":{"summary":"Auth Provider","description":"Generic stub endpoint to accept provider tokens and return a mocked user/session.\n\nUsed for local development/testing. In production validate tokens properly.","operationId":"auth_provider_auth__provider__post","parameters":[{"name":"provider","in":"path","required":true,"schema":{"type":"string","title":"Provider"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/auth/guest":{"post":{"summary":"Auth Guest","description":"Create a guest/anonymous user session.\n\nGenerates a unique guest user ID and returns a session token.\nGuest users can use the app without authentication.\n\nIf device_id is provided, uses it to create a stable guest ID\nthat persists across app reinstalls and cache clears.","operationId":"auth_guest_api_auth_guest_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/auth/convert-guest":{"post":{"summary":"Convert Guest To Registered","description":"Convert a guest account to a registered account.\n\nRequires the guest user to be authenticated. Takes email, password, and name\nto upgrade the account. Preserves all analysis history.","operationId":"convert_guest_to_registered_api_auth_convert_guest_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/api/user/profile":{"get":{"summary":"Get User Profile","description":"Get user profile with statistics.\n\nReturns user information and analysis statistics for the profile screen.","operationId":"get_user_profile_api_user_profile_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]},"put":{"summary":"Update User Profile","description":"Update user bowling profile.\n\nAllows users (including guest users) to update their bowling style preference.\nBowling arm is now automatically detected from video analysis and not user-settable.\n\nFor guest users: Pass user_id in request body (no token required)\nFor registered users: Pass user_id in request body (optional token validation)","operationId":"update_user_profile_api_user_profile_put","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/auth/logout":{"post":{"summary":"Auth Logout","description":"Logout endpoint for client-side token invalidation.\n\nSince we're using JWTs (stateless tokens), actual logout is handled\nclient-side by removing the token. This endpoint exists for compatibility\nand can be extended later for token blacklisting if needed.","operationId":"auth_logout_api_auth_logout_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v2/account/link":{"post":{"summary":"Account Link","description":"Link an external provider to the currently authenticated user.\n\nExpects a Bearer Authorization header with a valid session JWT and a JSON body with `token` containing the provider token.","operationId":"account_link_api_v2_account_link_post","parameters":[{"name":"provider","in":"query","required":true,"schema":{"type":"string","title":"Provider"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/account/providers":{"get":{"summary":"Account Providers","description":"List linked providers for the authenticated user.","operationId":"account_providers_api_v2_account_providers_get","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/parameters/info":{"get":{"summary":"Get Bowling Parameters","description":"Get detailed information about the 7 bowling parameters","operationId":"get_bowling_parameters_api_v2_parameters_info_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v2/analysis/{analysis_id}/performance":{"get":{"summary":"Get Analysis Performance","description":"Get detailed performance metrics for an analysis\nShows timing for each task in the analysis pipeline","operationId":"get_analysis_performance_api_v2_analysis__analysis_id__performance_get","parameters":[{"name":"analysis_id","in":"path","required":true,"schema":{"type":"string","title":"Analysis Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/analysis/{analysis_id}":{"get":{"summary":"Get Analysis Result","description":"Retrieve specific analysis result by ID with progress tracking","operationId":"get_analysis_result_api_v2_analysis__analysis_id__get","parameters":[{"name":"analysis_id","in":"path","required":true,"schema":{"type":"string","title":"Analysis Id"}},{"name":"user_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"summary":"Delete Analysis","description":"Delete an analysis and all associated files (videos, clips, snapshots).\n\nThis endpoint:\n1. Verifies user ownership of the analysis\n2. Deletes the database record\n3. Removes all associated files:\n   - Original uploaded video\n   - Annotated video\n   - Parameter clips\n   - Parameter snapshots\n   - Thumbnails\n\nReturns:\n    - 200: Successfully deleted\n    - 403: User doesn't own this analysis\n    - 404: Analysis not found","operationId":"delete_analysis_api_v2_analysis__analysis_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"analysis_id","in":"path","required":true,"schema":{"type":"string","title":"Analysis Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/user/{user_id}/history":{"get":{"summary":"Get User Analysis History","description":"Get user's analysis history with pagination","operationId":"get_user_analysis_history_api_v2_user__user_id__history_get","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","title":"User Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":10,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Offset"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/user/{user_id}/analyses/recent":{"get":{"summary":"Get Recent Analyses For User","description":"Get recent analyses for a specific user with enhanced details for better UX","operationId":"get_recent_analyses_for_user_api_v2_user__user_id__analyses_recent_get","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","title":"User Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":5,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/feedback/custom":{"post":{"summary":"Generate Custom Feedback","description":"Generate custom feedback for specific parameters","operationId":"generate_custom_feedback_api_v2_feedback_custom_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Body_generate_custom_feedback_api_v2_feedback_custom_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/infer_regressor":{"post":{"summary":"Infer Regressor","description":"Run inference using the loaded regressor model.\n\nExpected payload: { \"features\": [f1, f2, ...] }\nReturns: { \"prediction\": <float>, \"meta\": {...} }","operationId":"infer_regressor_api_v2_infer_regressor_post","requestBody":{"content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Payload"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/analyze_videos":{"post":{"summary":"Analyze Videos","description":"Accept one or multiple video uploads, run extraction/pose analysis and return results per video.\n\nReturns a list of results: per video metadata, detection_rate, quality_score and optional regressor prediction.","operationId":"analyze_videos_api_v2_analyze_videos_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_analyze_videos_api_v2_analyze_videos_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/annotate_videos":{"post":{"summary":"Annotate Videos","description":"Annotate uploaded videos by overlaying pose landmarks onto the original frames.\n\nReturns a single annotated video if one upload, or a zip archive when multiple.","operationId":"annotate_videos_api_v2_annotate_videos_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_annotate_videos_api_v2_annotate_videos_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/annotated/{filename}":{"get":{"summary":"Get Annotated File","description":"Serve an annotated video with pose overlays from the annotated_videos directory.","operationId":"get_annotated_file_api_v2_annotated__filename__get","parameters":[{"name":"filename","in":"path","required":true,"schema":{"type":"string","title":"Filename"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/annotated/snapshots/{filename}":{"get":{"summary":"Get Snapshot File","description":"Serve a parameter-specific annotated frame snapshot.","operationId":"get_snapshot_file_api_v2_annotated_snapshots__filename__get","parameters":[{"name":"filename","in":"path","required":true,"schema":{"type":"string","title":"Filename"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/gallery/snapshots/{filename}":{"get":{"summary":"Get Gallery Snapshot","description":"Serve a snapshot image from the multi-video gallery.\n\nSnapshots are JPEG images extracted from key frames of the bowling action,\ngenerated by the MultiVideoAnalyzer.\n\nArgs:\n    filename: Snapshot filename (e.g., \"front_delayed_arms_FRONT_snapshot.jpg\")\n\nReturns:\n    JPEG image file","operationId":"get_gallery_snapshot_gallery_snapshots__filename__get","parameters":[{"name":"filename","in":"path","required":true,"schema":{"type":"string","title":"Filename"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/gallery/clips/{filename}":{"get":{"summary":"Get Gallery Clip","description":"Serve a slow-motion video clip from the multi-video gallery.\n\nClips are MP4 videos with 5x slow-motion effect, generated by the\nMultiVideoAnalyzer using ffmpeg.\n\nArgs:\n    filename: Clip filename (e.g., \"side_back_foot_contact_SIDE_5x.mp4\")\n\nReturns:\n    MP4 video file with slow-motion effect","operationId":"get_gallery_clip_gallery_clips__filename__get","parameters":[{"name":"filename","in":"path","required":true,"schema":{"type":"string","title":"Filename"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/annotated/clips/{filename}":{"get":{"summary":"Get Clip File","description":"Serve a parameter-specific annotated video clip.","operationId":"get_clip_file_api_v2_annotated_clips__filename__get","parameters":[{"name":"filename","in":"path","required":true,"schema":{"type":"string","title":"Filename"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"Body_analyze_bowling_video_api_v2_analyze_post":{"properties":{"video":{"type":"string","format":"binary","title":"Video","description":"Bowling action video file"},"bowler_name":{"type":"string","title":"Bowler Name","default":"Anonymous"},"bowler_type":{"$ref":"#/components/schemas/BowlerType","default":"fast"},"bowling_style":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Bowling Style"},"user_id":{"type":"string","title":"User Id"}},"type":"object","required":["video"],"title":"Body_analyze_bowling_video_api_v2_analyze_post"},"Body_analyze_multiple_videos_endpoint_api_v2_analyze_multiple_post":{"properties":{"videos":{"items":{"type":"string","format":"binary"},"type":"array","title":"Videos","description":"Multiple video files from different camera angles"},"bowler_name":{"type":"string","title":"Bowler Name","default":"Anonymous"},"bowler_type":{"$ref":"#/components/schemas/BowlerType","default":"fast"},"user_id":{"type":"string","title":"User Id"},"session_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id"}},"type":"object","required":["videos"],"title":"Body_analyze_multiple_videos_endpoint_api_v2_analyze_multiple_post"},"Body_analyze_videos_api_v2_analyze_videos_post":{"properties":{"videos":{"items":{"type":"string","format":"binary"},"type":"array","title":"Videos","description":"One or more video files to analyze"},"target_frames":{"type":"integer","title":"Target Frames","default":90}},"type":"object","required":["videos"],"title":"Body_analyze_videos_api_v2_analyze_videos_post"},"Body_annotate_videos_api_v2_annotate_videos_post":{"properties":{"videos":{"items":{"type":"string","format":"binary"},"type":"array","title":"Videos","description":"One or more videos to annotate with pose overlays"},"fps":{"type":"integer","title":"Fps","default":15}},"type":"object","required":["videos"],"title":"Body_annotate_videos_api_v2_annotate_videos_post"},"Body_detect_camera_angle_api_v2_detect_angle_post":{"properties":{"video":{"type":"string","format":"binary","title":"Video","description":"Bowling action video file"}},"type":"object","required":["video"],"title":"Body_detect_camera_angle_api_v2_detect_angle_post"},"Body_generate_custom_feedback_api_v2_feedback_custom_post":{"properties":{"request":{"additionalProperties":true,"type":"object","title":"Request"},"focus_areas":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Focus Areas"}},"type":"object","required":["request"],"title":"Body_generate_custom_feedback_api_v2_feedback_custom_post"},"BowlerType":{"type":"string","enum":["fast","medium","spin"],"title":"BowlerType","description":"Bowler type enumeration (LEGACY - use BowlingStyle instead)"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"HTTPBearer":{"type":"http","scheme":"bearer"}}}}